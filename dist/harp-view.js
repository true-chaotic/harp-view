parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QB6M":[function(require,module,exports) {
"use strict";function e(e,t){t.parentNode.insertBefore(e,t.nextSibling)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"LCRc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={en:{"error.bad-tune":"Empty tune or unknown format",play:"Play",pause:"Pause",stop:"Stop"},ru:{"error.bad-tune":"Пустая мелодия или ошибка в записи",play:"Играть",pause:"Пауза",stop:"Остановить"}},t="en",r=function(r){return e&&e[t]&&e[t][r]||r},o=r;exports.default=o;
},{}],"NzXj":[function(require,module,exports) {
"use strict";function e(e){return Boolean(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"I8wJ":[function(require,module,exports) {
"use strict";function t(t){return n(t)||r(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function o(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e),a="string"==typeof n?[n]:n;return(r=i.classList).add.apply(r,t(a)),Object.keys(o).forEach(function(t){i.addEventListener(t,o[t])}),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"rDCW":[function(require,module,exports) {

},{}],"o5s1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=h;var e=r(require("../helpers/createElement")),n=r(require("fs"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}var l=".notes-viewer {\r\n  text-align: center;\r\n  padding: 5%;\r\n}\r\n\r\n.notes-viewer__column {\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  width: 50%;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n}\r\n\r\n.notes-viewer__container {\r\n  display: block;\r\n}\r\n\r\n.notes-viewer__note {\r\n  border: 1px solid black;\r\n  text-align: center;\r\n  min-width: 1em;\r\n  min-height: 1em;\r\n  line-height: 1;\r\n  display: inline-block;\r\n  padding: 0.5em;\r\n  border-radius: 50%;\r\n  margin: 5%;\r\n  font-size: 0.6em;\r\n}\r\n\r\n.notes-viewer__note_active {\r\n  background-color: green;\r\n  color: white;\r\n}\r\n\r\n",c=!1,d=function(){if(!c){var e=document.createElement("style");e.innerHTML=l,document.head.appendChild(e),c=!0}},u=function(e){return e.replace("'","-high").replace(",","-low")},s="notes-viewer__container",f="notes-viewer__note",p="".concat(f,"_active");function h(){var n,r=(0,e.default)("div","notes-viewer");d();var i="| e c A F D B, G, E, D, C, F,, | x a g f d B G E C A, F, |".split(" ").reduce(function(t,i,o,a){if("|"===i)n&&r.appendChild(n),o!==a.length-1&&(n=(0,e.default)("ul","notes-viewer__column"));else{var l=(0,e.default)("li",[s,"".concat(s,"_").concat(u(i))]),c=(0,e.default)("span",f);c.innerText=i,l.appendChild(c),n.appendChild(l),t[i]=c}return t},{}),o=new Set;function a(e){i[e]&&(i[e].classList.remove(p),o.delete(e))}return{$el:r,highLight:function(e){i[e]&&(i[e].classList.add(p),o.add(e))},dim:a,dimAll:function(){t(o).forEach(a)}}}
},{"../helpers/createElement":"I8wJ","fs":"rDCW"}],"owWV":[function(require,module,exports) {
function t(s){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(s)}!function(s,i,e,o){"use strict";if(s.ion=s.ion||{},!ion.sound){var n=function(t){if(t||(t="undefined"),s.console){console.warn&&"function"==typeof console.warn?console.warn(t):console.log&&"function"==typeof console.log&&console.log(t);var i=e&&e("#debug");if(i&&i.length){var o=i.html();i.html(o+t+"<br/>")}}},h=function(t,s){var i;for(i in s=s||{},t)t.hasOwnProperty(i)&&(s[i]=t[i]);return s};if("function"!=typeof Audio&&"object"!==("undefined"==typeof Audio?"undefined":t(Audio))){var a=function(){n("HTML5 Audio is not supported in this browser")};return ion.sound=a,ion.sound.play=a,ion.sound.stop=a,ion.sound.pause=a,ion.sound.preload=a,ion.sound.destroy=a,void a()}var p,r=/iPad|iPhone|iPod/.test(i.appVersion),u=0,l={},d={};!l.supported&&r?l.supported=["mp3","mp4","aac"]:l.supported||(l.supported=["mp3","ogg","mp4","aac","wav"]);ion.sound=function(t){var s,i;if(h(t,l),l.path=l.path||"",l.volume=l.volume||1,l.preload=l.preload||!1,l.multiplay=l.multiplay||!1,l.loop=l.loop||!1,l.sprite=l.sprite||null,l.scope=l.scope||null,l.ready_callback=l.ready_callback||null,l.ended_callback=l.ended_callback||null,u=l.sounds.length)for(p=0;p<u;p++)s=l.sounds[p],i=void 0,i=s.alias||s.name,d[i]||(d[i]=new m(s),d[i].init());else n("No sound-files provided!")},ion.sound.VERSION="3.0.7",ion.sound._method=function(t,s,i){if(s)d[s]&&d[s][t](i);else for(p in d)d.hasOwnProperty(p)&&d[p]&&d[p][t](i)},ion.sound.preload=function(t,s){h({preload:!0},s=s||{}),ion.sound._method("init",t,s)},ion.sound.destroy=function(t){if(ion.sound._method("destroy",t),t)d[t]=null;else for(p in d)d.hasOwnProperty(p)&&d[p]&&(d[p]=null)},ion.sound.play=function(t,s){ion.sound._method("play",t,s)},ion.sound.stop=function(t,s){ion.sound._method("stop",t,s)},ion.sound.pause=function(t,s){ion.sound._method("pause",t,s)},ion.sound.volume=function(t,s){ion.sound._method("volume",t,s)},e&&(e.ionSound=ion.sound);var c,f=s.AudioContext||s.webkitAudioContext;f&&(c=new f);var m=function(t){this.options=h(l),delete this.options.sounds,h(t,this.options),this.request=null,this.streams={},this.result={},this.ext=0,this.url="",this.loaded=!1,this.decoded=!1,this.no_file=!1,this.autoplay=!1};m.prototype={init:function(t){t&&h(t,this.options),this.options.preload&&this.load()},destroy:function(){var t;for(p in this.streams)(t=this.streams[p])&&(t.destroy(),t=null);this.streams={},this.result=null,this.options.buffer=null,this.options=null,this.request&&(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request.abort(),this.request=null)},createUrl:function(){var t=(new Date).valueOf();this.url=this.options.path+encodeURIComponent(this.options.name)+"."+this.options.supported[this.ext]+"?"+t},load:function(){this.no_file?n('No sources for "'+this.options.name+'" sound :('):this.request||(this.createUrl(),this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.responseType="arraybuffer",this.request.addEventListener("load",this.ready.bind(this),!1),this.request.addEventListener("error",this.error.bind(this),!1),this.request.send())},reload:function(){this.ext++,this.options.supported[this.ext]?this.load():(this.no_file=!0,n('No sources for "'+this.options.name+'" sound :('))},ready:function(t){if(this.result=t.target,4===this.result.readyState){if(200!==this.result.status&&0!==this.result.status)return n(this.url+" was not found on server!"),void this.reload();this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request=null,this.loaded=!0,this.decode()}else this.reload()},decode:function(){c&&c.decodeAudioData(this.result.response,this.setBuffer.bind(this),this.error.bind(this))},setBuffer:function(t){this.options.buffer=t,this.decoded=!0;var s={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:this.options.buffer.duration};if(this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,s),this.options.sprite)for(p in this.options.sprite)this.options.start=this.options.sprite[p][0],this.options.end=this.options.sprite[p][1],this.streams[p]=new y(this.options,p);else this.streams[0]=new y(this.options);this.autoplay&&(this.autoplay=!1,this.play())},error:function(){this.reload()},play:function(t){if(delete this.options.part,t&&h(t,this.options),!this.loaded)return this.autoplay=!0,void this.load();if(!this.no_file&&this.decoded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(p in this.options.sprite)this.streams[p].play(this.options);else this.streams[0].play(this.options)},stop:function(t){if(this.options.sprite)if(t)this.streams[t.part].stop();else for(p in this.options.sprite)this.streams[p].stop();else this.streams[0].stop()},pause:function(t){if(this.options.sprite)if(t)this.streams[t.part].pause();else for(p in this.options.sprite)this.streams[p].pause();else this.streams[0].pause()},volume:function(t){var s;if(t)if(h(t,this.options),this.options.sprite)if(this.options.part)(s=this.streams[this.options.part])&&s.setVolume(this.options);else for(p in this.options.sprite)(s=this.streams[p])&&s.setVolume(this.options);else(s=this.streams[0])&&s.setVolume(this.options)}};var y=function(t,s){this.alias=t.alias,this.name=t.name,this.sprite_part=s,this.buffer=t.buffer,this.start=t.start||0,this.end=t.end||this.buffer.duration,this.multiplay=t.multiplay||!1,this.volume=t.volume||1,this.scope=t.scope,this.ended_callback=t.ended_callback,this.setLoop(t),this.source=null,this.gain=null,this.playing=!1,this.paused=!1,this.time_started=0,this.time_ended=0,this.time_played=0,this.time_offset=0};if(y.prototype={destroy:function(){this.stop(),this.buffer=null,this.source=null,this.gain&&this.gain.disconnect(),this.source&&this.source.disconnect(),this.gain=null,this.source=null},setLoop:function(t){!0===t.loop?this.loop=9999999:"number"==typeof t.loop?this.loop=+t.loop-1:this.loop=!1},update:function(t){this.setLoop(t),"volume"in t&&(this.volume=t.volume)},play:function(t){t&&this.update(t),!this.multiplay&&this.playing||(this.gain=c.createGain(),this.source=c.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gain),this.gain.connect(c.destination),this.gain.gain.value=this.volume,this.source.onended=this.ended.bind(this),this._play())},_play:function(){var t,s;this.paused?(t=this.start+this.time_offset,s=this.end-this.time_offset):(t=this.start,s=this.end),s<=0?this.clear():("function"==typeof this.source.start?this.source.start(0,t,s):this.source.noteOn(0,t,s),this.playing=!0,this.paused=!1,this.time_started=(new Date).valueOf())},stop:function(){this.playing&&this.source&&("function"==typeof this.source.stop?this.source.stop(0):this.source.noteOff(0)),this.clear()},pause:function(){this.paused?this.play():this.playing&&(this.source&&this.source.stop(0),this.paused=!0)},ended:function(){this.playing=!1,this.time_ended=(new Date).valueOf(),this.time_played=(this.time_ended-this.time_started)/1e3,this.time_offset+=this.time_played,(this.time_offset>=this.end||this.end-this.time_offset<.015)&&(this._ended(),this.clear(),this.loop&&(this.loop--,this.play()))},_ended:function(){var t={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,t)},clear:function(){this.time_played=0,this.time_offset=0,this.paused=!1,this.playing=!1},setVolume:function(t){this.volume=t.volume,this.gain&&(this.gain.gain.value=this.volume)}},!c){!function(){var t,s,i=new Audio,e=i.canPlayType("audio/mpeg"),o=i.canPlayType("audio/ogg"),n=i.canPlayType('audio/mp4; codecs="mp4a.40.2"');for(s=0;s<l.supported.length;s++)t=l.supported[s],e||"mp3"!==t||l.supported.splice(s,1),o||"ogg"!==t||l.supported.splice(s,1),n||"aac"!==t||l.supported.splice(s,1),n||"mp4"!==t||l.supported.splice(s,1);i=null}(),m.prototype={init:function(t){t&&h(t,this.options),this.inited=!0,this.options.preload&&this.load()},destroy:function(){var t;for(p in this.streams)(t=this.streams[p])&&(t.destroy(),t=null);this.streams={},this.loaded=!1,this.inited=!1},load:function(){var t;if(this.options.preload=!0,this.options._ready=this.ready,this.options._scope=this,this.options.sprite)for(p in this.options.sprite)t=this.options.sprite[p],this.options.start=t[0],this.options.end=t[1],this.streams[p]=new y(this.options,p);else this.streams[0]=new y(this.options)},ready:function(t){if(!this.loaded){this.loaded=!0;var s={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:t};this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,s),this.autoplay&&(this.autoplay=!1,this.play())}},play:function(t){if(this.inited)if(delete this.options.part,t&&h(t,this.options),console.log(1),this.loaded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(p in this.options.sprite)this.streams[p].play(this.options);else this.streams[0].play(this.options);else this.options.preload?this.autoplay=!0:(this.autoplay=!0,this.load())},stop:function(t){if(this.inited)if(this.options.sprite)if(t)this.streams[t.part].stop();else for(p in this.options.sprite)this.streams[p].stop();else this.streams[0].stop()},pause:function(t){if(this.inited)if(this.options.sprite)if(t)this.streams[t.part].pause();else for(p in this.options.sprite)this.streams[p].pause();else this.streams[0].pause()},volume:function(t){var s;if(t)if(h(t,this.options),this.options.sprite)if(this.options.part)(s=this.streams[this.options.part])&&s.setVolume(this.options);else for(p in this.options.sprite)(s=this.streams[p])&&s.setVolume(this.options);else(s=this.streams[0])&&s.setVolume(this.options)}},(y=function(t,s){this.name=t.name,this.alias=t.alias,this.sprite_part=s,this.multiplay=t.multiplay,this.volume=t.volume,this.preload=t.preload,this.path=l.path,this.start=t.start||0,this.end=t.end||0,this.scope=t.scope,this.ended_callback=t.ended_callback,this._scope=t._scope,this._ready=t._ready,this.setLoop(t),this.sound=null,this.url=null,this.loaded=!1,this.start_time=0,this.paused_time=0,this.played_time=0,this.init()}).prototype={init:function(){this.sound=new Audio,this.sound.volume=this.volume,this.createUrl(),this.sound.addEventListener("ended",this.ended.bind(this),!1),this.sound.addEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.addEventListener("timeupdate",this._update.bind(this),!1),this.load()},destroy:function(){this.stop(),this.sound.removeEventListener("ended",this.ended.bind(this),!1),this.sound.removeEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.removeEventListener("timeupdate",this._update.bind(this),!1),this.sound=null,this.loaded=!1},createUrl:function(){var t=(new Date).valueOf();this.url=this.path+encodeURIComponent(this.name)+"."+l.supported[0]+"?"+t},can_play_through:function(){this.preload&&this.ready()},load:function(){this.sound.src=this.url,this.sound.preload=this.preload?"auto":"none",this.preload&&this.sound.load()},setLoop:function(t){!0===t.loop?this.loop=9999999:"number"==typeof t.loop?this.loop=+t.loop-1:this.loop=!1},update:function(t){this.setLoop(t),"volume"in t&&(this.volume=t.volume)},ready:function(){!this.loaded&&this.sound&&(this.loaded=!0,this._ready.call(this._scope,this.sound.duration),this.end||(this.end=this.sound.duration))},play:function(t){t&&this.update(t),!this.multiplay&&this.playing||this._play()},_play:function(){if(this.paused)this.paused=!1;else try{this.sound.currentTime=this.start}catch(t){}this.playing=!0,this.start_time=(new Date).valueOf(),this.sound.volume=this.volume,this.sound.play()},stop:function(){if(this.playing){this.playing=!1,this.paused=!1,this.sound.pause(),this.clear();try{this.sound.currentTime=this.start}catch(t){}}},pause:function(){this.paused?this._play():(this.playing=!1,this.paused=!0,this.sound.pause(),this.paused_time=(new Date).valueOf(),this.played_time+=this.paused_time-this.start_time)},_update:function(){if(this.start_time){var t=(new Date).valueOf()-this.start_time;(this.played_time+t)/1e3>=this.end&&this.playing&&(this.stop(),this._ended())}},ended:function(){this.playing&&(this.stop(),this._ended())},_ended:function(){this.playing=!1;var t={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,t),this.loop&&setTimeout(this.looper.bind(this),15)},looper:function(){this.loop--,this.play()},clear:function(){this.start_time=0,this.played_time=0,this.paused_time=0},setVolume:function(t){this.volume=t.volume,this.sound&&(this.sound.volume=this.volume)}}}}}(window,navigator,window.jQuery||window.$);
},{}],"qbJK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./vendor/ion.sound");var n={SNAP:"snap","F,,":"F0","C,":"C1","D,":"D1","E,":"E1","F,":"F1","G,":"G1","A,":"A1","B,":"B1",C:"C2",D:"D2",E:"E2",F:"F2",G:"G2",A:"A2",B:"B2",c:"C3",d:"D3",e:"E3",f:"F3",g:"G3",a:"A3"},o=function(){var o;function e(){var o=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).soundFolder,e=void 0===o?"sounds/":o,u=window.ion;return u.sound({sounds:Object.values(n).map(function(o){return{name:o,volume:o===n.SNAP?1:.3}}),path:e,preload:!0,multiplay:!0}),{playNote:function(o){n[o]&&u.sound.play(n[o])},playSnap:function(){u.sound.play(n.SNAP)}}}return function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).soundFolder;return o||(o=new e({soundFolder:n})),o}}(),e=o;exports.default=e;
},{"./vendor/ion.sound":"owWV"}],"WpDk":[function(require,module,exports) {
"use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Qu7x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./helpers/noop"));function t(e){return e&&e.__esModule?e:{default:e}}var r=1e3,n=60*r;function u(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=r.ticksPerMinute,o=void 0===u?60:u,i=r.onTick,a=void 0===i?e.default:i,l=o;function s(){clearInterval(t),t=null}function c(){s(),t=setInterval(a,n/l)}return{start:c,stop:s,update:function(e){var r=e.ticksPerMinute;l=r,t&&c()}}}
},{"./helpers/noop":"WpDk"}],"V2hP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=a(require("./helpers/noop")),t=a(require("./helpers/createElement")),n=a(require("./helpers/translate"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o(e)||l(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(u){r=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}}function o(e){if(Array.isArray(e))return e}function u(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.onPlay,l=void 0===i?e.default:i,o=a.onStop,u=void 0===o?e.default:o,d=a.onClickSlower,c=void 0===d?e.default:d,p=a.onClickFaster,f=void 0===p?e.default:p,s=a.viewerElement,v=a.block,b=void 0===v?"harp-view":v,y={playing:!1,bpm:a.bpm},h=(0,t.default)("div",b),m=(0,t.default)("button","".concat(b,"__play"),{click:function(){y.playing?u():l()}});function _(){m.innerText=(0,n.default)(y.playing?"stop":"play")}_();var g=(0,t.default)("span","".concat(b,"__control-speed"));Object.assign(g.style,{display:"inline-block",margin:"0 1em"});var x=(0,t.default)("button","".concat(b,"__speed-button"),{click:c});x.innerText=(0,n.default)("slower");var C=(0,t.default)("button","".concat(b,"__speed-button"),{click:f});C.innerText=(0,n.default)("faster");var j=(0,t.default)("span","".concat(b,"__bpm"));function k(){j.innerText=y.bpm||""}Object.assign(j.style,{display:"inline-block",margin:"0 0.5em"}),g.appendChild(x),g.appendChild(j),g.appendChild(C),k(),h.appendChild(m),h.appendChild(g);var w=(0,t.default)("div","".concat(b,"__viewer"));Object.assign(w.style,{maxWidth:"320px",margin:"0 auto"}),w.appendChild(s),h.appendChild(w);var O={playing:_,bpm:k};return{$el:h,update:function(e){Object.entries(e).forEach(function(e){var t=r(e,2),n=t[0],a=t[1];y[n]!==a&&(y[n]=a,O[n]())})}}}
},{"./helpers/noop":"WpDk","./helpers/createElement":"I8wJ","./helpers/translate":"LCRc"}],"bkQl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=new Set(["x","z"]),t=function(t){return e.has(t)},r=t;exports.default=r;
},{}],"niua":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=i(require("./viewer")),n=i(require("./player")),t=i(require("./ticker")),r=i(require("./controller-view")),u=i(require("./helpers/isPause"));function i(e){return e&&e.__esModule?e:{default:e}}function l(i){var l,o,a=i.tune,d=i.soundFolder,p=-1,c=-1,f=480,s=[.2,.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.5,3,3.5,4].map(function(e){return Math.round(f*e)}),h=s.findIndex(function(e){return e===f}),m=["'",","],v=a.split("").reduce(function(e,n){var t=m.includes(n)?e.pop()+n:n;return e.push(t),e},[]),w=new e.default,y=new n.default({soundFolder:d}),M=function(){p=-1,c=-1,o.update({playing:!1}),l.stop(),w.dimAll()};l=new t.default({ticksPerMinute:f,onTick:function(){if((p+=1)%2==1&&w.dimAll(),p%2==0){if((c+=1)===v.length)return M();e=v[c],w.dimAll(),(0,u.default)(e)||(y.playNote(e),w.highLight(e))}var e;p%4==0&&y.playSnap()}});var g=function(e){h=Math.max(0,Math.min(h+e,s.length-1)),f=s[h],l.update({ticksPerMinute:f}),o.update({bpm:f/4})};return(o=new r.default({viewerElement:w.$el,bpm:f/4,onClickFaster:function(){g(1)},onClickSlower:function(){g(-1)},onPlay:function(){o.update({playing:!0}),l.start()},onStop:M})).$el}
},{"./viewer":"o5s1","./player":"qbJK","./ticker":"Qu7x","./controller-view":"V2hP","./helpers/isPause":"bkQl"}],"DWxx":[function(require,module,exports) {
"use strict";var e=n(require("./helpers/insertAfter")),r=n(require("./helpers/translate")),t=n(require("./helpers/tuneValid")),u=n(require("./controller"));function n(e){return e&&e.__esModule?e:{default:e}}window.HarpView=function(n,l){document.querySelectorAll("."+n).forEach(function(n){var o=n.innerHTML.trim();(0,t.default)(o)?(0,e.default)(new u.default({tune:o,soundFolder:l}),n):console.error((0,r.default)("error.bad-tune"),n)})};
},{"./helpers/insertAfter":"QB6M","./helpers/translate":"LCRc","./helpers/tuneValid":"NzXj","./controller":"niua"}]},{},["DWxx"], null)
//# sourceMappingURL=/harp-view.js.map